"""
Edge detection and segmentation logic.
"""